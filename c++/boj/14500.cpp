/*
 * 테트로미노
 * https://www.acmicpc.net/problem/14500
 */

#include "bits/stdc++.h"
using namespace std;

int board[503][503];
const int block[19][4][2] = {
	// ㅡ
	{{0,0},{0,1},{0,2},{0,3}},
	{{0,0},{1,0},{2,0},{3,0}},
	// ㅁ
	{{0,0},{0,1},{1,0},{1,1}},
	// L
	{{0,0},{1,0},{2,0},{2,1}},
	{{0,0},{0,1},{0,2},{1,0}},
	{{1,0},{1,1},{1,2},{0,2}},
	{{0,0},{0,1},{0,2},{1,2}},
	{{0,0},{0,1},{1,0},{2,0}},
	{{0,0},{1,0},{1,1},{1,2}},
	{{0,1},{1,1},{2,1},{2,0}},
	{{0,0},{1,0},{1,1},{2,1}},
	// ㄱㄴ
	{{0,0},{0,1},{1,1},{2,1}},
	{{0,1},{0,2},{1,0},{1,1}},
	{{0,1},{1,1},{1,0},{2,0}},
	{{0,0},{0,1},{1,1},{1,2}},
	// ㅗ
	{{0,0},{0,1},{0,2},{1,1}},
	{{0,0},{1,0},{1,1},{2,0}},
	{{0,1},{1,0},{1,1},{1,2}},
	{{1,0},{0,1},{1,1},{2,1}}
};

int main() {
	int n, m, ans = 0;	cin >> n >> m;
	for (int i = 0; i < n; i++)
		for (int j = 0; j < m; j++)
			cin >> board[i][j];
	for (int t = 0; t < 19; t++) {
		for (int y = 0; y < n; y++) {
			for (int x = 0; x < m; x++) {
				int sum = 0;
				for (int k = 0; k < 4; k++) {
					const int ny = y + block[t][k][0];
					const int nx = x + block[t][k][1];
					sum += board[ny][nx];
				}
				ans = max(ans, sum);
			}
		}
	}
	cout << ans;
}